{"version":3,"file":"zero-md.min.js","sources":["../src/index.js"],"sourcesContent":["export class ZeroMd extends HTMLElement {\n  get src() {\n    return this.getAttribute('src')\n  }\n\n  set src(val) {\n    this.reflect('src', val)\n  }\n\n  get manualRender() {\n    return this.hasAttribute('manual-render')\n  }\n\n  set manualRender(val) {\n    this.reflect('manual-render', val)\n  }\n\n  reflect(name, val) {\n    if (val === false) {\n      this.removeAttribute(name)\n    } else {\n      this.setAttribute(name, val === true ? '' : val)\n    }\n  }\n\n  static get observedAttributes() {\n    return ['src']\n  }\n\n  attributeChangedCallback(name, old, val) {\n    if (name === 'src' && this.connected && !this.manualRender && val !== old) {\n      this.render()\n    }\n  }\n\n  constructor(defaults) {\n    super()\n    this.version = '$VERSION'\n    this.config = {\n      markedUrl: 'https://cdn.jsdelivr.net/gh/markedjs/marked@4/marked.min.js',\n      prismUrl: [\n        ['https://cdn.jsdelivr.net/gh/PrismJS/prism@1/prism.min.js', 'data-manual'],\n        'https://cdn.jsdelivr.net/gh/PrismJS/prism@1/plugins/autoloader/prism-autoloader.min.js'\n      ],\n      cssUrls: [\n        'https://cdn.jsdelivr.net/gh/sindresorhus/github-markdown-css@4/github-markdown.min.css',\n        'https://cdn.jsdelivr.net/gh/PrismJS/prism@1/themes/prism.min.css'\n      ],\n      hostCss:\n        ':host{display:block;position:relative;contain:content;}:host([hidden]){display:none;}',\n      ...defaults,\n      ...window.ZeroMdConfig\n    }\n    this.root = this.hasAttribute('no-shadow') ? this : this.attachShadow({ mode: 'open' })\n    this.root.prepend(\n      this.makeNode(`<div class=\"markdown-styles\"></div>`),\n      this.makeNode(`<div class=\"markdown-body\"></div>`)\n    )\n    if (!this.constructor.ready) {\n      this.constructor.ready = Promise.all([\n        !!window.marked || this.loadScript(this.config.markedUrl),\n        !!window.Prism || this.loadScript(this.config.prismUrl)\n      ])\n    }\n    this.clicked = this.clicked.bind(this)\n    if (!this.manualRender) {\n      // Scroll to hash id after first render. However, `history.scrollRestoration` inteferes with this\n      // on refresh. It's much better to use a `setTimeout` rather than to alter the browser's behaviour.\n      this.render().then(() => setTimeout(() => this.goto(location.hash), 250))\n    }\n    this.observer = new MutationObserver(async () => {\n      this.observeChanges()\n      if (!this.manualRender) {\n        await this.render()\n      }\n    })\n    this.observeChanges()\n  }\n\n  connectedCallback() {\n    this.connected = true\n    this.fire('zero-md-connected', {}, { bubbles: false, composed: false })\n    this.waitForReady().then(() => {\n      this.fire('zero-md-ready')\n    })\n    if (this.shadowRoot) {\n      this.shadowRoot.addEventListener('click', this.clicked)\n    }\n  }\n\n  disconnectedCallback() {\n    this.connected = false\n    if (this.shadowRoot) {\n      this.shadowRoot.removeEventListener('click', this.clicked)\n    }\n  }\n\n  waitForReady() {\n    const ready =\n      this.connected ||\n      new Promise((resolve) => {\n        this.addEventListener('zero-md-connected', function handler() {\n          this.removeEventListener('zero-md-connected', handler)\n          resolve()\n        })\n      })\n    return Promise.all([this.constructor.ready, ready])\n  }\n\n  fire(name, detail = {}, opts = { bubbles: true, composed: true }) {\n    if (detail.msg) {\n      console.warn(detail.msg)\n    }\n    this.dispatchEvent(\n      new CustomEvent(name, {\n        detail: { node: this, ...detail },\n        ...opts\n      })\n    )\n  }\n\n  tick() {\n    return new Promise((resolve) => requestAnimationFrame(resolve))\n  }\n\n  // Coerce anything into an array\n  arrify(any) {\n    return any ? (Array.isArray(any) ? any : [any]) : []\n  }\n\n  // Promisify an element's onload callback\n  onload(node) {\n    return new Promise((resolve, reject) => {\n      node.onload = resolve\n      node.onerror = (err) => reject(err.path ? err.path[0] : err.composedPath()[0])\n    })\n  }\n\n  // Load a url or load (in order) an array of urls via <script> tags\n  loadScript(urls) {\n    return Promise.all(\n      this.arrify(urls).map((item) => {\n        const [url, ...attrs] = this.arrify(item)\n        const el = document.createElement('script')\n        el.src = url\n        el.async = false\n        attrs.forEach((attr) => el.setAttribute(attr, ''))\n        return this.onload(document.head.appendChild(el))\n      })\n    )\n  }\n\n  // Scroll to selected element\n  goto(sel) {\n    let el\n    try {\n      el = this.root.querySelector(sel)\n    } catch {}\n    if (el) el.scrollIntoView()\n  }\n\n  // Hijack same-doc anchor hash links\n  clicked(ev) {\n    if (ev.metaKey || ev.ctrlKey || ev.altKey || ev.shiftKey || ev.defaultPrevented) {\n      return\n    }\n    const a = ev.target.closest('a')\n    if (a && a.hash && a.host === location.host && a.pathname === location.pathname) {\n      this.goto(a.hash)\n    }\n  }\n\n  dedent(str) {\n    str = str.replace(/^\\n/, '')\n    const match = str.match(/^\\s+/)\n    return match ? str.replace(new RegExp(`^${match[0]}`, 'gm'), '') : str\n  }\n\n  getBaseUrl(src) {\n    const a = document.createElement('a')\n    a.href = src\n    return a.href.substring(0, a.href.lastIndexOf('/') + 1)\n  }\n\n  // Runs Prism highlight async; falls back to sync if Web Workers throw\n  highlight(container) {\n    return new Promise((resolve) => {\n      const unhinted = container.querySelectorAll('pre>code:not([class*=\"language-\"])')\n      unhinted.forEach((n) => {\n        // Dead simple language detection :)\n        const lang = n.innerText.match(/^\\s*</)\n          ? 'markup'\n          : n.innerText.match(/^\\s*(\\$|#)/)\n          ? 'bash'\n          : 'js'\n        n.classList.add(`language-${lang}`)\n      })\n      try {\n        window.Prism.highlightAllUnder(container, true, resolve())\n      } catch {\n        window.Prism.highlightAllUnder(container)\n        resolve()\n      }\n    })\n  }\n\n  // Converts HTML string into node\n  makeNode(html) {\n    const tpl = document.createElement('template')\n    tpl.innerHTML = html\n    return tpl.content.firstElementChild\n  }\n\n  // Construct styles dom and return HTML string\n  buildStyles() {\n    const get = (query) => {\n      const node = this.querySelector(query)\n      return node ? node.innerHTML || ' ' : ''\n    }\n    const urls = this.arrify(this.config.cssUrls)\n    const html = `<div class=\"markdown-styles\"><style>${this.config.hostCss}</style>${get(\n      'template[data-merge=\"prepend\"]'\n    )}${\n      get('template:not([data-merge])') ||\n      urls.reduce((a, c) => `${a}<link rel=\"stylesheet\" href=\"${c}\">`, '')\n    }${get('template[data-merge=\"append\"]')}</div>`\n    return html\n  }\n\n  // Construct md nodes and return HTML string\n  async buildMd(opts = {}) {\n    const src = async () => {\n      if (!this.src) {\n        return ''\n      }\n      const resp = await fetch(this.src)\n      if (resp.ok) {\n        const md = await resp.text()\n        return window.marked.parse(md, {\n          baseUrl: this.getBaseUrl(this.src),\n          ...opts\n        })\n      } else {\n        this.fire('zero-md-error', {\n          msg: `[zero-md] HTTP error ${resp.status} while fetching src`,\n          status: resp.status,\n          src: this.src\n        })\n        return ''\n      }\n    }\n    const script = () => {\n      const el = this.querySelector('script[type=\"text/markdown\"]')\n      if (!el) {\n        return ''\n      }\n      const md = el.hasAttribute('data-dedent') ? this.dedent(el.text) : el.text\n      return window.marked.parse(md, opts)\n    }\n    const html = `<div class=\"markdown-body${\n      opts.classes ? this.arrify(opts.classes).reduce((a, c) => `${a} ${c}`, ' ') : ''\n    }\">${(await src()) || script()}</div>`\n    return html\n  }\n\n  /**\n   * Returns 32-bit DJB2a hash in base36\n   * @param {string} str\n   * @returns {string}\n   */\n  getHash(str) {\n    let hash = 5381\n    for (let index = 0; index < str.length; index++) {\n      hash = ((hash << 5) + hash) ^ str.charCodeAt(index)\n    }\n    return (hash >>> 0).toString(36)\n  }\n\n  /**\n   * Insert or replace styles node in root from a HTML string. If there are external stylesheet\n   * links, wait for them to load.\n   * @param {string} html styles string\n   * @returns {Promise<boolean|undefined>} returns true if stamped\n   */\n  async stampStyles(html) {\n    const hash = this.getHash(html)\n    const target = this.root.querySelector('.markdown-styles')\n    if (target.getAttribute('data-hash') !== hash) {\n      const node = this.makeNode(html)\n      node.setAttribute('data-hash', hash)\n      const links = [...node.querySelectorAll('link[rel=\"stylesheet\"]')]\n      target.replaceWith(node)\n      await Promise.all(links.map((l) => this.onload(l))).catch((err) => {\n        this.fire('zero-md-error', {\n          msg: '[zero-md] An external stylesheet failed to load',\n          status: undefined,\n          src: err.href\n        })\n      })\n      return true\n    }\n  }\n\n  /**\n   * Insert or replace HTML body string into DOM\n   * @param {string} html markdown-body string\n   * @returns {Promise<boolean|undefined>} returns true if stamped\n   */\n  async stampBody(html) {\n    const hash = this.getHash(html)\n    const target = this.root.querySelector('.markdown-body')\n    if (target.getAttribute('data-hash') !== hash) {\n      const node = this.makeNode(html)\n      await this.highlight(node)\n      node.setAttribute('data-hash', hash)\n      if (target) {\n        target.replaceWith(node)\n      } else {\n        this.root.append(node)\n      }\n      return true\n    }\n  }\n\n  // Start observing for changes in root, templates and scripts\n  observeChanges() {\n    this.observer.observe(this, { childList: true })\n    this.querySelectorAll('template,script[type=\"text/markdown\"]').forEach((n) => {\n      this.observer.observe(n.content || n, {\n        childList: true,\n        subtree: true,\n        attributes: true,\n        characterData: true\n      })\n    })\n  }\n\n  async render(opts = {}) {\n    await this.waitForReady()\n    const pending = this.buildMd(opts)\n    const styles = await this.stampStyles(this.buildStyles())\n    await this.tick()\n    const body = await this.stampBody(await pending)\n    this.fire('zero-md-rendered', { node: this, stamped: { styles, body } })\n  }\n}\n\ncustomElements.define('zero-md', ZeroMd)\n"],"names":["ZeroMd","HTMLElement","src","this","getAttribute","val","reflect","manualRender","hasAttribute","name","removeAttribute","setAttribute","observedAttributes","attributeChangedCallback","old","connected","render","constructor","defaults","super","version","config","markedUrl","prismUrl","cssUrls","hostCss","window","ZeroMdConfig","root","attachShadow","mode","prepend","makeNode","ready","Promise","all","marked","loadScript","Prism","clicked","bind","then","setTimeout","goto","location","hash","observer","MutationObserver","async","observeChanges","connectedCallback","fire","bubbles","composed","waitForReady","shadowRoot","addEventListener","disconnectedCallback","removeEventListener","resolve","handler","detail","opts","msg","console","warn","dispatchEvent","CustomEvent","node","tick","requestAnimationFrame","arrify","any","Array","isArray","onload","reject","onerror","err","path","composedPath","urls","map","item","url","attrs","el","document","createElement","forEach","attr","head","appendChild","sel","querySelector","scrollIntoView","ev","metaKey","ctrlKey","altKey","shiftKey","defaultPrevented","a","target","closest","host","pathname","dedent","str","match","replace","RegExp","getBaseUrl","href","substring","lastIndexOf","highlight","container","querySelectorAll","n","lang","innerText","classList","add","highlightAllUnder","html","tpl","innerHTML","content","firstElementChild","buildStyles","get","query","reduce","c","classes","resp","fetch","ok","md","text","parse","baseUrl","status","script","getHash","index","length","charCodeAt","toString","links","replaceWith","l","catch","undefined","append","observe","childList","subtree","attributes","characterData","pending","buildMd","styles","stampStyles","body","stampBody","stamped","customElements","define"],"mappings":"AAAO,MAAMA,UAAeC,YACtBC,UACF,OAAOC,KAAKC,aAAa,MAC1B,CAEGF,QAAIG,GACNF,KAAKG,QAAQ,MAAOD,EACrB,CAEGE,mBACF,OAAOJ,KAAKK,aAAa,gBAC1B,CAEGD,iBAAaF,GACfF,KAAKG,QAAQ,gBAAiBD,EAC/B,CAEDC,QAAQG,EAAMJ,IACA,IAARA,EACFF,KAAKO,gBAAgBD,GAErBN,KAAKQ,aAAaF,GAAc,IAARJ,EAAe,GAAKA,EAE/C,CAEUO,gCACT,MAAO,CAAC,MACT,CAEDC,yBAAyBJ,EAAMK,EAAKT,GACrB,QAATI,GAAkBN,KAAKY,YAAcZ,KAAKI,cAAgBF,IAAQS,GACpEX,KAAKa,QAER,CAEDC,YAAYC,GACVC,QACAhB,KAAKiB,QAAU,QACfjB,KAAKkB,OAAS,CACZC,UAAW,8DACXC,SAAU,CACR,CAAC,2DAA4D,eAC7D,0FAEFC,QAAS,CACP,yFACA,oEAEFC,QACE,2FACCP,KACAQ,OAAOC,cAEZxB,KAAKyB,KAAOzB,KAAKK,aAAa,aAAeL,KAAOA,KAAK0B,aAAa,CAAEC,KAAM,SAC9E3B,KAAKyB,KAAKG,QACR5B,KAAK6B,SAAS,uCACd7B,KAAK6B,SAAS,sCAEX7B,KAAKc,YAAYgB,QACpB9B,KAAKc,YAAYgB,MAAQC,QAAQC,IAAI,GACjCT,OAAOU,QAAUjC,KAAKkC,WAAWlC,KAAKkB,OAAOC,aAC7CI,OAAOY,OAASnC,KAAKkC,WAAWlC,KAAKkB,OAAOE,aAGlDpB,KAAKoC,QAAUpC,KAAKoC,QAAQC,KAAKrC,MAC5BA,KAAKI,cAGRJ,KAAKa,SAASyB,MAAK,IAAMC,YAAW,IAAMvC,KAAKwC,KAAKC,SAASC,OAAO,OAEtE1C,KAAK2C,SAAW,IAAIC,kBAAiBC,UACnC7C,KAAK8C,iBACA9C,KAAKI,oBACFJ,KAAKa,QACZ,IAEHb,KAAK8C,gBACN,CAEDC,oBACE/C,KAAKY,WAAY,EACjBZ,KAAKgD,KAAK,oBAAqB,CAAE,EAAE,CAAEC,SAAS,EAAOC,UAAU,IAC/DlD,KAAKmD,eAAeb,MAAK,KACvBtC,KAAKgD,KAAK,gBAAgB,IAExBhD,KAAKoD,YACPpD,KAAKoD,WAAWC,iBAAiB,QAASrD,KAAKoC,QAElD,CAEDkB,uBACEtD,KAAKY,WAAY,EACbZ,KAAKoD,YACPpD,KAAKoD,WAAWG,oBAAoB,QAASvD,KAAKoC,QAErD,CAEDe,eACE,MAAMrB,EACJ9B,KAAKY,WACL,IAAImB,SAASyB,IACXxD,KAAKqD,iBAAiB,qBAAqB,SAASI,IAClDzD,KAAKuD,oBAAoB,oBAAqBE,GAC9CD,GACV,GAAU,IAEN,OAAOzB,QAAQC,IAAI,CAAChC,KAAKc,YAAYgB,MAAOA,GAC7C,CAEDkB,KAAK1C,EAAMoD,EAAS,GAAIC,EAAO,CAAEV,SAAS,EAAMC,UAAU,IACpDQ,EAAOE,KACTC,QAAQC,KAAKJ,EAAOE,KAEtB5D,KAAK+D,cACH,IAAIC,YAAY1D,EAAM,CACpBoD,OAAQ,CAAEO,KAAMjE,QAAS0D,MACtBC,IAGR,CAEDO,OACE,OAAO,IAAInC,SAASyB,GAAYW,sBAAsBX,IACvD,CAGDY,OAAOC,GACL,OAAOA,EAAOC,MAAMC,QAAQF,GAAOA,EAAM,CAACA,GAAQ,EACnD,CAGDG,OAAOP,GACL,OAAO,IAAIlC,SAAQ,CAACyB,EAASiB,KAC3BR,EAAKO,OAAShB,EACdS,EAAKS,QAAWC,GAAQF,EAAOE,EAAIC,KAAOD,EAAIC,KAAK,GAAKD,EAAIE,eAAe,GAAG,GAEjF,CAGD3C,WAAW4C,GACT,OAAO/C,QAAQC,IACbhC,KAAKoE,OAAOU,GAAMC,KAAKC,IACrB,MAAOC,KAAQC,GAASlF,KAAKoE,OAAOY,GAC9BG,EAAKC,SAASC,cAAc,UAIlC,OAHAF,EAAGpF,IAAMkF,EACTE,EAAGtC,OAAQ,EACXqC,EAAMI,SAASC,GAASJ,EAAG3E,aAAa+E,EAAM,MACvCvF,KAAKwE,OAAOY,SAASI,KAAKC,YAAYN,GAAG,IAGrD,CAGD3C,KAAKkD,GACH,IAAIP,EACJ,IACEA,EAAKnF,KAAKyB,KAAKkE,cAAcD,EAC9B,CAAC,MAAQ,CACNP,GAAIA,EAAGS,gBACZ,CAGDxD,QAAQyD,GACN,GAAIA,EAAGC,SAAWD,EAAGE,SAAWF,EAAGG,QAAUH,EAAGI,UAAYJ,EAAGK,iBAC7D,OAEF,MAAMC,EAAIN,EAAGO,OAAOC,QAAQ,KACxBF,GAAKA,EAAEzD,MAAQyD,EAAEG,OAAS7D,SAAS6D,MAAQH,EAAEI,WAAa9D,SAAS8D,UACrEvG,KAAKwC,KAAK2D,EAAEzD,KAEf,CAED8D,OAAOC,GAEL,MAAMC,GADND,EAAMA,EAAIE,QAAQ,MAAO,KACPD,MAAM,QACxB,OAAOA,EAAQD,EAAIE,QAAQ,IAAIC,OAAO,IAAIF,EAAM,KAAM,MAAO,IAAMD,CACpE,CAEDI,WAAW9G,GACT,MAAMoG,EAAIf,SAASC,cAAc,KAEjC,OADAc,EAAEW,KAAO/G,EACFoG,EAAEW,KAAKC,UAAU,EAAGZ,EAAEW,KAAKE,YAAY,KAAO,EACtD,CAGDC,UAAUC,GACR,OAAO,IAAInF,SAASyB,IACD0D,EAAUC,iBAAiB,sCACnC7B,SAAS8B,IAEhB,MAAMC,EAAOD,EAAEE,UAAUZ,MAAM,SAC3B,SACAU,EAAEE,UAAUZ,MAAM,cAClB,OACA,KACJU,EAAEG,UAAUC,IAAI,YAAYH,IAAO,IAErC,IACE9F,OAAOY,MAAMsF,kBAAkBP,GAAW,EAAM1D,IACxD,CAAQ,MACAjC,OAAOY,MAAMsF,kBAAkBP,GAC/B1D,GACD,IAEJ,CAGD3B,SAAS6F,GACP,MAAMC,EAAMvC,SAASC,cAAc,YAEnC,OADAsC,EAAIC,UAAYF,EACTC,EAAIE,QAAQC,iBACpB,CAGDC,cACE,MAAMC,EAAOC,IACX,MAAMhE,EAAOjE,KAAK2F,cAAcsC,GAChC,OAAOhE,EAAOA,EAAK2D,WAAa,IAAM,IAElC9C,EAAO9E,KAAKoE,OAAOpE,KAAKkB,OAAOG,SAOrC,MANa,uCAAuCrB,KAAKkB,OAAOI,kBAAkB0G,EAChF,oCAEAA,EAAI,+BACJlD,EAAKoD,QAAO,CAAC/B,EAAGgC,IAAM,GAAGhC,iCAAiCgC,OAAO,MAChEH,EAAI,wCAER,CAGDnF,cAAcc,EAAO,IAgCnB,MAHa,4BACXA,EAAKyE,QAAUpI,KAAKoE,OAAOT,EAAKyE,SAASF,QAAO,CAAC/B,EAAGgC,IAAM,GAAGhC,KAAKgC,KAAK,KAAO,YA7BpEtF,WACV,IAAK7C,KAAKD,IACR,MAAO,GAET,MAAMsI,QAAaC,MAAMtI,KAAKD,KAC9B,GAAIsI,EAAKE,GAAI,CACX,MAAMC,QAAWH,EAAKI,OACtB,OAAOlH,OAAOU,OAAOyG,MAAMF,EAAI,CAC7BG,QAAS3I,KAAK6G,WAAW7G,KAAKD,QAC3B4D,GAEb,CAMQ,OALA3D,KAAKgD,KAAK,gBAAiB,CACzBY,IAAK,wBAAwByE,EAAKO,4BAClCA,OAAQP,EAAKO,OACb7I,IAAKC,KAAKD,MAEL,EACR,EAYSA,IAVG,MACb,MAAMoF,EAAKnF,KAAK2F,cAAc,gCAC9B,IAAKR,EACH,MAAO,GAET,MAAMqD,EAAKrD,EAAG9E,aAAa,eAAiBL,KAAKwG,OAAOrB,EAAGsD,MAAQtD,EAAGsD,KACtE,OAAOlH,OAAOU,OAAOyG,MAAMF,EAAI7E,EAAI,EAIfkF,UAEvB,CAODC,QAAQrC,GACN,IAAI/D,EAAO,KACX,IAAK,IAAIqG,EAAQ,EAAGA,EAAQtC,EAAIuC,OAAQD,IACtCrG,GAASA,GAAQ,GAAKA,EAAQ+D,EAAIwC,WAAWF,GAE/C,OAAQrG,IAAS,GAAGwG,SAAS,GAC9B,CAQDrG,kBAAkB6E,GAChB,MAAMhF,EAAO1C,KAAK8I,QAAQpB,GACpBtB,EAASpG,KAAKyB,KAAKkE,cAAc,oBACvC,GAAIS,EAAOnG,aAAa,eAAiByC,EAAM,CAC7C,MAAMuB,EAAOjE,KAAK6B,SAAS6F,GAC3BzD,EAAKzD,aAAa,YAAakC,GAC/B,MAAMyG,EAAQ,IAAIlF,EAAKkD,iBAAiB,2BASxC,OARAf,EAAOgD,YAAYnF,SACblC,QAAQC,IAAImH,EAAMpE,KAAKsE,GAAMrJ,KAAKwE,OAAO6E,MAAKC,OAAO3E,IACzD3E,KAAKgD,KAAK,gBAAiB,CACzBY,IAAK,kDACLgF,YAAQW,EACRxJ,IAAK4E,EAAImC,MACT,KAEG,CACR,CACF,CAODjE,gBAAgB6E,GACd,MAAMhF,EAAO1C,KAAK8I,QAAQpB,GACpBtB,EAASpG,KAAKyB,KAAKkE,cAAc,kBACvC,GAAIS,EAAOnG,aAAa,eAAiByC,EAAM,CAC7C,MAAMuB,EAAOjE,KAAK6B,SAAS6F,GAQ3B,aAPM1H,KAAKiH,UAAUhD,GACrBA,EAAKzD,aAAa,YAAakC,GAC3B0D,EACFA,EAAOgD,YAAYnF,GAEnBjE,KAAKyB,KAAK+H,OAAOvF,IAEZ,CACR,CACF,CAGDnB,iBACE9C,KAAK2C,SAAS8G,QAAQzJ,KAAM,CAAE0J,WAAW,IACzC1J,KAAKmH,iBAAiB,yCAAyC7B,SAAS8B,IACtEpH,KAAK2C,SAAS8G,QAAQrC,EAAES,SAAWT,EAAG,CACpCsC,WAAW,EACXC,SAAS,EACTC,YAAY,EACZC,eAAe,GACf,GAEL,CAEDhH,aAAac,EAAO,UACZ3D,KAAKmD,eACX,MAAM2G,EAAU9J,KAAK+J,QAAQpG,GACvBqG,QAAehK,KAAKiK,YAAYjK,KAAK+H,qBACrC/H,KAAKkE,OACX,MAAMgG,QAAalK,KAAKmK,gBAAgBL,GACxC9J,KAAKgD,KAAK,mBAAoB,CAAEiB,KAAMjE,KAAMoK,QAAS,CAAEJ,SAAQE,SAChE,EAGHG,eAAeC,OAAO,UAAWzK"}